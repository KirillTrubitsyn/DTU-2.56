/**
 * –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ Supabase —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π embeddings
 *
 * –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
 * 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
 *    SUPABASE_URL, SUPABASE_SERVICE_KEY, GOOGLE_API_KEY
 *
 * 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: node scripts/upload-documents.js
 */

import { GoogleGenerativeAI } from '@google/generative-ai';
import { createClient } from '@supabase/supabase-js';

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
const SUPABASE_URL = process.env.SUPABASE_URL;
const SUPABASE_SERVICE_KEY = process.env.SUPABASE_SERVICE_KEY;
const GOOGLE_API_KEY = process.env.GOOGLE_API_KEY;

const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_KEY);
const genAI = new GoogleGenerativeAI(GOOGLE_API_KEY);

// –î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
const DOCUMENTS = [
  {
    title: '–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–° –†–§ ‚Ññ 56-–ü –æ—Ç 06.12.2024',
    content: `–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω—ã–π –°—É–¥ –†–§ –≤ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ ‚Ññ 56-–ü –æ—Ç 06.12.2024 —É–∫–∞–∑–∞–ª, —á—Ç–æ —Å—É–¥ –Ω–µ –≤–ø—Ä–∞–≤–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–æ—Å—Ç–∞–≤–∞ –ø—Ä–∞–≤–æ–Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏ –¥–µ–ª –æ –≤–æ–∑–º–µ—â–µ–Ω–∏–∏ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –≤—Ä–µ–¥–∞.

–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –ö–° –†–§:
1. –°—É–¥ –æ–±—è–∑–∞–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞, –∏—Å–∫–ª—é—á–∞—é—â–∏–µ –∏–ª–∏ —É–º–µ–Ω—å—à–∞—é—â–∏–µ –≤—Ä–µ–¥
2. –§–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∏–∫ —Ä–∞—Å—á—ë—Ç–∞ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ
3. –¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Ü–µ–Ω–∫–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã—Ö —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π
4. –†–∞–∑–º–µ—Ä –≤—Ä–µ–¥–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–º—É —É—â–µ—Ä–±—É —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ

–ü—Ä–∞–∫—Ç–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:
- –ê–° –ó–°–û –æ—Ç 25.12.2024 ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–æ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Å—É–º–º—ã —É—â–µ—Ä–±–∞
- –ê–° –ü–û –æ—Ç 28.02.2025 ‚Äî —É—á—Ç–µ–Ω–æ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—Ä–µ–¥–∞

–í–ê–ñ–ù–û: –î–∞–Ω–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç —Ä–∞–Ω–µ–µ –Ω–µ –∑–∞—è–≤–ª—è–ª—Å—è –≤ –¥–µ–ª–µ –î–¢–£, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–Ω–µ—Å–µ–Ω–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–∞–∑–±–∏—Ä–∞—Ç–µ–ª—å—Å—Ç–≤.`,
    source: '–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–° –†–§ ‚Ññ 56-–ü',
    category: 'court_decision'
  },
  {
    title: '–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –±—É—Ö—Ç—ã –ú—É—á–∫–µ (–î–í–§–£ 2008-2024)',
    content: `–î–∞–Ω–Ω—ã–µ 16-–ª–µ—Ç–Ω–µ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –î–∞–ª—å–Ω–µ–≤–æ—Å—Ç–æ—á–Ω–æ–≥–æ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ (–î–í–§–£) —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –±—É—Ö—Ç—ã –ú—É—á–∫–µ (2008-2024):

–ë–ò–û–õ–û–ì–ò–ß–ï–°–ö–ò–ï –ü–û–ö–ê–ó–ê–¢–ï–õ–ò:
- –ë–µ–Ω—Ç–æ—Å: –∑–¥–æ—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –≤–∏–¥–æ–≤–æ–π —Å–æ—Å—Ç–∞–≤
- –§–∏—Ç–æ–ø–ª–∞–Ω–∫—Ç–æ–Ω: –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã
- –ó–æ–æ–ø–ª–∞–Ω–∫—Ç–æ–Ω: —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –ø–æ–ø—É–ª—è—Ü–∏—è
- –ò—Ö—Ç–∏–æ—Ñ–∞—É–Ω–∞: –≤ –Ω–æ—Ä–º–µ, –ø—Ä–æ–º—ã—Å–ª–æ–≤—ã–µ –≤–∏–¥—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

–ü–û–î–í–û–î–ù–ê–Ø –°–™–Å–ú–ö–ê 2023:
- –í—ã—Å–æ–∫–∞—è –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞–∏–ª–µ–Ω–∏—è –¥–Ω–∞
- "–ü–æ–¥–≤–æ–¥–Ω—ã–µ –ª–µ—Å–∞" –º–∞–∫—Ä–æ—Ñ–∏—Ç–æ–≤: 70-98% –ø–æ–∫—Ä—ã—Ç–∏—è –¥–Ω–∞

–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï –Æ.–Æ. –ì–ê–õ–´–®–ï–í–û–ô (–î–í–§–£):
"–î–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–≥–æ–ª—å–Ω–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –ù–ï –æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ —ç–∫–æ—Å–∏—Å—Ç–µ–º—É –±—É—Ö—Ç—ã –ú—É—á–∫–µ"

–°–£–î–ï–ë–ù–ê–Ø –û–¶–ï–ù–ö–ê:
- –°–û–Æ (15.06.2023, 09.11.2023, 16.11.2023): —Ñ–æ–∫—É—Å –Ω–∞ —Ñ–∞–∫—Ç–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è, —ç–∫–æ–ª–æ–≥–∏—è –Ω–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–ª–∞—Å—å
- –ö–∏—Ä–æ–≤—Å–∫–∏–π —Å—É–¥ 16.10.2025: –¥–æ–≤–æ–¥ –æ—Ç–∫–ª–æ–Ω—ë–Ω –∫–∞–∫ "–Ω–µ—Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–ª—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏"
- –ê–° –•–ö, 6 –ê–ê–°, –ê–° –î–í–û: —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª—å–Ω–æ –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏—Å—å

–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ —Å—É–¥–µ–±–Ω–æ–π —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã`,
    source: '–î–í–§–£, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 2008-2024',
    category: 'expert_opinion'
  },
  {
    title: '–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –ê–û –î–∞–ª—å—Ç—Ä–∞–Ω—Å—É–≥–æ–ª—å',
    content: `–ò–ù–í–ï–°–¢–ò–¶–ò–ò –í –≠–ö–û–õ–û–ì–ò–Æ –° 2023 –ì–û–î–ê:
–û–±—â–∞—è —Å—É–º–º–∞: 2 047 545 642 —Ä—É–±–ª–µ–π

–†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –ú–ï–†–û–ü–†–ò–Ø–¢–ò–Ø:
1. –í–µ—Ç—Ä–æ–∑–∞—â–∏—Ç–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã:
   - –í—ã—Å–æ—Ç–∞: 25 –º–µ—Ç—Ä–æ–≤
   - –ü—Ä–æ—Ç—è–∂—ë–Ω–Ω–æ—Å—Ç—å: 2400 –º–µ—Ç—Ä–æ–≤
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Ä–∞–∑–Ω–æ—Å–∞ —É–≥–æ–ª—å–Ω–æ–π –ø—ã–ª–∏

2. –°–∏—Å—Ç–µ–º—ã –ø—ã–ª–µ–ø–æ–¥–∞–≤–ª–µ–Ω–∏—è:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ—Ä–æ—à–µ–Ω–∏—è
   - –°–Ω–µ–≥–æ–≤—ã–µ –ø—É—à–∫–∏ –¥–ª—è –∑–∏–º–Ω–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
   - –¢—É–º–∞–Ω–æ–æ–±—Ä–∞–∑—É—é—â–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

3. –°—Ç–∞–Ω—Ü–∏—è –°–ö–ê–¢:
   - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã
   - –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–±—Ä–æ—Å–æ–≤

–ü–†–ê–í–û–í–û–ï –û–ë–û–°–ù–û–í–ê–ù–ò–ï –ó–ê–ß–Å–¢–ê:
- –ü.14 –ú–µ—Ç–æ–¥–∏–∫–∏ 87: –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö–Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è –≤—ã—á–∏—Ç–∞—é—Ç—Å—è –∏–∑ —Å—É–º–º—ã –≤—Ä–µ–¥–∞
- –ü.11 —Å—Ç.16.3 –§–ó-7: –æ–±—â–∏–π –ø—Ä–∏–Ω—Ü–∏–ø –∑–∞—á—ë—Ç–∞ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∑–∞—Ç—Ä–∞—Ç

–ü–û–ó–ò–¶–ò–Ø –†–û–°–ü–†–ò–†–û–î–ù–ê–î–ó–û–†–ê:
- –ü.14 –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–±—Ä–æ—Å–æ–≤ —Å—Ç–æ—á–Ω—ã—Ö –≤–æ–¥ (–ø.11), –Ω–µ –¥–ª—è –∑–∞—Ö–ª–∞–º–ª–µ–Ω–∏—è (–ø.16)
- –ü—ã–ª–µ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ = –æ–±—ã—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ —Å–¥–µ–ª–∞–Ω—ã –ü–û–°–õ–ï –ø—Ä–∏—á–∏–Ω–µ–Ω–∏—è –≤—Ä–µ–¥–∞

–°–£–î–ï–ë–ù–ê–Ø –ü–†–ê–ö–¢–ò–ö–ê: –°—É–¥–µ–±–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –ø.14 –∫ –ø.16 –ú–µ—Ç–æ–¥–∏–∫–∏ 87 –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.`,
    source: '–î–æ–∫—É–º–µ–Ω—Ç—ã –ê–û –î–∞–ª—å—Ç—Ä–∞–Ω—Å—É–≥–æ–ª—å',
    category: 'evidence'
  },
  {
    title: '–ú–µ—Ç–æ–¥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ —É—â–µ—Ä–±–∞ –≤–æ–¥–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º (–ú–µ—Ç–æ–¥–∏–∫–∞ 87)',
    content: `–ú–ï–¢–û–î–ò–ö–ê 87 ‚Äî –ü–†–ò–ö–ê–ó –ú–ò–ù–ü–†–ò–†–û–î–´ –†–û–°–°–ò–ò ‚Ññ 87

–†–ê–°–ß–Å–¢ –ö–û–≠–§–§–ò–¶–ò–ï–ù–¢–ê –ö–∑–∞–≥—Ä:
- –ö–∑–∞–≥—Ä=6: —Å–∫–æ–ø–ª–µ–Ω–∏–µ –æ—Ç—Ö–æ–¥–æ–≤ >10 –º¬≤ –Ω–∞ 100 –º¬≤ –≤–æ–¥–Ω–æ–π –ø–ª–æ—â–∞–¥–∏
- –ö–∑–∞–≥—Ä=1: —Å–∫–æ–ø–ª–µ–Ω–∏–µ –æ—Ç—Ö–æ–¥–æ–≤ <0,01 –º¬≤ –Ω–∞ 100 –º¬≤ –ø–ª–æ—â–∞–¥–∏

–ü–û–ó–ò–¶–ò–Ø –ó–ê–©–ò–¢–´:
1. –£–≥–æ–ª—å–Ω–∞—è –ø—ã–ª—å = –î–ò–§–§–£–ó–ù–û–ï (—Ä–∞—Å—Å–µ—è–Ω–Ω–æ–µ) –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ, –Ω–µ –æ—á–∞–≥–æ–≤–æ–µ
2. –ö–æ—Å–º–æ—Å–Ω–∏–º–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç: –±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å –∞–∫–≤–∞—Ç–æ—Ä–∏–∏ –ù–ï –ø–æ–∫—Ä—ã—Ç–∞ —É–≥–æ–ª—å–Ω–æ–π –ø–ª—ë–Ω–∫–æ–π
3. –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ö–∑–∞–≥—Ä=1 (—Å–Ω–∏–∂–µ–Ω–∏–µ —Å—É–º–º—ã –≤ 6 —Ä–∞–∑)
4. –ü.16 –ú–µ—Ç–æ–¥–∏–∫–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –±—ã—Ç–æ–≤—ã—Ö –æ—Ç—Ö–æ–¥–æ–≤, –Ω–µ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –ø—ã–ª–∏

–ü–û–ó–ò–¶–ò–Ø –†–û–°–ü–†–ò–†–û–î–ù–ê–î–ó–û–†–ê:
- –ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –Ω–æ—Å–∏—Ç "–ø–ª–æ—â–∞–¥–Ω–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä"
- –ü–ª–æ—â–∞–¥—å 14 589,94 –º¬≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–æ–π –§–ì–ë–£ –¢–û—Ç–µ—Ö–º–æ—Ä–¥–∏—Ä–µ–∫—Ü–∏—è
- –í–∑–≤–µ—à–µ–Ω–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞ –≤ –ø—Ä–æ–±–∞—Ö –≤–æ–¥—ã = –ø—Ä–æ–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–µ –≤ —Ç–æ–ª—â—É
- –ü–ª–æ—â–∞–¥—å >0,01 –º¬≤ –∏—Å–∫–ª—é—á–∞–µ—Ç –ö–∑–∞–≥—Ä=1

–°–£–î–ï–ë–ù–´–ï –†–ï–®–ï–ù–ò–Ø:
- –ê–° –•–ö 15.01.2025: "–ü–ª–æ—â–∞–¥—å >0,01 –∫–≤.–º –∏—Å–∫–ª—é—á–∞–µ—Ç –ö–∑–∞–≥—Ä=1"
- 6 –ê–ê–° 08.04.2025: "–ö–∑–∞–≥—Ä=6 –æ–±–æ—Å–Ω–æ–≤–∞–Ω –ø–ª–æ—â–∞–¥–Ω—ã–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º"
- –ê–° –î–í–û 09.07.2025: –∫–æ—Å–º–æ—Å–Ω–∏–º–æ–∫ –æ—Ç–∫–ª–æ–Ω—ë–Ω ‚Äî –¥–∞—Ç–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –æ—Å–º–æ—Ç—Ä–æ–º`,
    source: '–ü—Ä–∏–∫–∞–∑ –ú–∏–Ω–ø—Ä–∏—Ä–æ–¥—ã ‚Ññ 87',
    category: 'law'
  },
  {
    title: '–ù–æ—Ä–º–∞—Ç–∏–≤—ã –≤—ã–±—Ä–æ—Å–æ–≤ –∏ –ø–ª–∞—Ç–∞ –∑–∞ –ù–í–û–°',
    content: `–†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–†–û–í–ï–†–ö–ò –†–û–°–ü–†–ò–†–û–î–ù–ê–î–ó–û–†–ê:

–í–´–ë–†–û–°–´ –£–ì–û–õ–¨–ù–û–ô –ü–´–õ–ò:
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–π –Ω–æ—Ä–º–∞—Ç–∏–≤–æ–≤: –ù–ï –£–°–¢–ê–ù–û–í–õ–ï–ù–û
- –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–æ–±–∞—Ö –≤–æ–∑–¥—É—Ö–∞: 0,023-0,033 –º–≥/–º¬≥
- –ü–î–ö —É–≥–æ–ª—å–Ω–æ–π –ø—ã–ª–∏: 0,3 –º–≥/–º¬≥
- –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ: –í 10 –†–ê–ó –ù–ò–ñ–ï –ù–û–†–ú–´

–ü–õ–ê–¢–ê –ó–ê –ù–í–û–°:
- –ê–û –î–¢–£ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø–ª–∞—Ç–∏—Ç –∑–∞ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–µ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ –æ–∫—Ä—É–∂–∞—é—â—É—é —Å—Ä–µ–¥—É
- –ü–ª–∞—Ç–µ–∂–∏ –≤–∫–ª—é—á–∞—é—Ç –≤—ã–±—Ä–æ—Å—ã —É–≥–æ–ª—å–Ω–æ–π –ø—ã–ª–∏ –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É
- –û—Å–∞–∂–¥–µ–Ω–∏–µ –ø—ã–ª–∏ = –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å

–ü–û–ó–ò–¶–ò–Ø –†–û–°–ü–†–ò–†–û–î–ù–ê–î–ó–û–†–ê:
- –ü–ª–∞—Ç–∞ –∑–∞ –ù–í–û–° = –ø–ª–∞—Ç–∞ –∑–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ –≤—ã–±—Ä–æ—Å—ã
- –ù–ï –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –≤–æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
- –°—Ç.16 –§–ó-7: —Ä–∞–∑–Ω—ã–µ –≤–∏–¥—ã –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è
- –°–æ–±–ª—é–¥–µ–Ω–∏–µ –Ω–æ—Ä–º–∞—Ç–∏–≤–æ–≤ –≤—ã–±—Ä–æ—Å–æ–≤ –ù–ï –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

–°–£–î–ï–ë–ù–ê–Ø –ü–û–ó–ò–¶–ò–Ø:
–ö–∏—Ä–æ–≤—Å–∫–∏–π —Å—É–¥ 16.10.2025: "–î–æ–≤–æ–¥—ã –æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –ø—ã–ª–µ–Ω–∏—è ‚Äî –Ω–µ—Å–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã"
–°—É–¥ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–∏–ª –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∏ –≤–æ–¥—É –∫–∞–∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–æ–Ω–∞—Ä—É—à–µ–Ω–∏—è`,
    source: '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –†–ü–ù',
    category: 'evidence'
  },
  {
    title: '–ü—Ä–∞–≤–æ–≤–∞—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è —É–≥–æ–ª—å–Ω–æ–π –ø—ã–ª–∏',
    content: `–í–û–ü–†–û–°: –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —É–≥–æ–ª—å–Ω–∞—è –ø—ã–ª—å –æ—Ç—Ö–æ–¥–æ–º –∏–ª–∏ –∑–∞–≥—Ä—è–∑–Ω—è—é—â–∏–º –≤–µ—â–µ—Å—Ç–≤–æ–º?

–ü–û–ó–ò–¶–ò–Ø –ó–ê–©–ò–¢–´:
1. –£–≥–æ–ª—å–Ω–∞—è –ø—ã–ª—å –≤ –ü–µ—Ä–µ—á–Ω–µ –∑–∞–≥—Ä—è–∑–Ω—è—é—â–∏—Ö –≤–µ—â–µ—Å—Ç–≤ (–ø.37(1)) ‚Äî –¥–ª—è –í–û–ó–î–£–•–ê
2. –í –§–ö–ö–û –∫–∞–∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π –æ—Ç—Ö–æ–¥ ‚Äî –û–¢–°–£–¢–°–¢–í–£–ï–¢
3. –ö–æ–¥ 6 19 111 13 71 4 ‚Äî –¥–ª—è –¥—Ä–æ–±–ª–µ–Ω–∏—è –Ω–∞ –¢–≠–°/–¢–≠–¶, –Ω–µ —É–≥–æ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤
4. –°–æ–±—Ä–∞–Ω–Ω—ã–µ –ø—Ä–æ—Å—ã–ø–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å

–ü–û–ó–ò–¶–ò–Ø –†–û–°–ü–†–ò–†–û–î–ù–ê–î–ó–û–†–ê:
- –°—Ç.1 –§–ó-89: –æ—Ç—Ö–æ–¥—ã = –≤–µ—â–µ—Å—Ç–≤–∞, –ø–æ–¥–ª–µ–∂–∞—â–∏–µ —É–¥–∞–ª–µ–Ω–∏—é
- –ì–û–°–¢ 30772-2001 –ø.3.11: –æ—Ç—Ö–æ–¥—ã = –æ—Å—Ç–∞—Ç–∫–∏, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ü—Ä–∏–∫–∞–∑ –†–ü–ù 242: –º—É—Å–æ—Ä –ø—Ä–∏ –¥—Ä–æ–±–ª–µ–Ω–∏–∏ —É–≥–ª—è (–∫–æ–¥ 6 19 111 13 71 4)
- –†–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–µ 1316-—Ä –ø.166: –≤–∑–≤–µ—à–µ–Ω–Ω—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞ = –∑–∞–≥—Ä—è–∑–Ω–∏—Ç–µ–ª–∏ –≤–æ–¥—ã
- –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—è: —É–≥–æ–ª—å–Ω–æ-–ø–µ—Å—á–∞–Ω–∞—è —Å–º–µ—Å—å 99,5%

–°–£–î–ï–ë–ù–´–ï –†–ï–®–ï–ù–ò–Ø:
- –ê–° –•–ö 06.06.2024: "–£–≥–æ–ª—å–Ω–∞—è –ø—ã–ª—å –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –æ—Ç—Ö–æ–¥–∞–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Å—Ç.1 –§–ó-89"
- –ö–∏—Ä–æ–≤—Å–∫–∏–π 23.05.2025: "–£–≥–æ–ª—å–Ω–∞—è –ø—ã–ª—å ‚Äî –æ—Ç—Ö–æ–¥ –ø–æ –§–ö–ö–û, V –∫–ª–∞—Å—Å –æ–ø–∞—Å–Ω–æ—Å—Ç–∏"
- –ê–° –î–í–û 27.11.2024: –¥–æ–≤–æ–¥ –æ –≤–æ–∑–≤—Ä–∞—Ç–µ –≤ —Ç–µ—Ö–ø—Ä–æ—Ü–µ—Å—Å –æ—Å—Ç–∞–≤–ª–µ–Ω –±–µ–∑ –æ—Ü–µ–Ω–∫–∏

–≠–ö–°–ü–ï–†–¢–ò–ó–´: –ú–ì–£, –£—Ä–∞–ª–ù–ò–ò–≠–∫–æ–ª–æ–≥–∏—è ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏`,
    source: '–ü—Ä–∞–≤–æ–≤–æ–π –∞–Ω–∞–ª–∏–∑',
    category: 'law'
  },
  {
    title: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ–ª–µ –ê73-19604/2025',
    content: `–î–ï–õ–û ‚Ññ –ê73-19604/2025

–°–¢–û–†–û–ù–´:
- –û—Ç–≤–µ—Ç—á–∏–∫: –ê–û ¬´–î–∞–ª—å—Ç—Ä–∞–Ω—Å—É–≥–æ–ª—å¬ª (—É–≥–æ–ª—å–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–æ—Ä—Ç—É –í–∞–Ω–∏–Ω–æ)
- –ò—Å—Ç–µ—Ü: –ü—Ä–∏–∞–º—É—Ä—Å–∫–æ–µ –º–µ–∂—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –†–æ—Å–ø—Ä–∏—Ä–æ–¥–Ω–∞–¥–∑–æ—Ä–∞

–ü–†–ï–î–ú–ï–¢ –°–ü–û–†–ê:
–í–æ–∑–º–µ—â–µ–Ω–∏–µ –≤—Ä–µ–¥–∞, –ø—Ä–∏—á–∏–Ω—ë–Ω–Ω–æ–≥–æ –≤–æ–¥–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É ‚Äî –±—É—Ö—Ç–µ –ú—É—á–∫–µ –¢–∞—Ç–∞—Ä—Å–∫–æ–≥–æ –ø—Ä–æ–ª–∏–≤–∞

–°–£–ú–ú–ê –ò–°–ö–ê: 2 562 113 054,91 —Ä—É–±–ª–µ–π (–±–æ–ª–µ–µ 2,5 –º–ª—Ä–¥ —Ä—É–±–ª–µ–π)

–°–£–¢–¨ –ü–†–ï–¢–ï–ù–ó–ò–ô:
–ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ –∞–∫–≤–∞—Ç–æ—Ä–∏–∏ –±—É—Ö—Ç—ã —É–≥–æ–ª—å–Ω–æ–π –ø—ã–ª—å—é –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞–±–æ—Ç—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

–ö–õ–Æ–ß–ï–í–´–ï –î–ê–¢–´:
- 03.03.2023 ‚Äî –æ—Å–º–æ—Ç—Ä –∏ —Ñ–∏–∫—Å–∞—Ü–∏—è –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è
- 06.12.2024 ‚Äî –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–° –†–§ ‚Ññ 56-–ü
- 2025 ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—É–¥–µ–±–Ω—ã–µ —Ä–∞–∑–±–∏—Ä–∞—Ç–µ–ª—å—Å—Ç–≤–∞

–ü–†–ï–î–´–î–£–©–ò–ï –î–ï–õ–ê:
- –ê73-8310/2024 ‚Äî –¥–µ–ª–æ –æ –≤–∑—ã—Å–∫–∞–Ω–∏–∏ —É—â–µ—Ä–±–∞ –ø–æ –º–µ—Ç–æ–¥–∏–∫–µ –ü—Ä–∏–∞–º—É—Ä—Å–∫–æ–≥–æ –ú–£
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–µ–ª–∞ –≤ –°–û–Æ (2023)

–ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–û–ï –°–ù–ò–ñ–ï–ù–ò–ï –°–£–ú–ú–´:
- –õ–∏–Ω–∏–∏ 1-2 (–ö–° + –î–í–§–£): –¥–æ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–∞–∑–∞ –≤ –∏—Å–∫–µ
- –õ–∏–Ω–∏—è 3 (–∑–∞—á—ë—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π): –º–∏–Ω—É—Å 2 047 545 642 ‚ÇΩ`,
    source: '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–µ–ª–∞',
    category: 'case_info'
  }
];

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è embedding —á–µ—Ä–µ–∑ Google
async function getEmbedding(text) {
  const embeddingModel = genAI.getGenerativeModel({ model: 'text-embedding-004' });
  const result = await embeddingModel.embedContent(text);
  return result.embedding.values;
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
async function uploadDocuments() {
  console.log('üöÄ –ù–∞—á–∏–Ω–∞—é –∑–∞–≥—Ä—É–∑–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤...\n');

  if (!GOOGLE_API_KEY) {
    console.error('‚ùå GOOGLE_API_KEY –Ω–µ –∑–∞–¥–∞–Ω!');
    process.exit(1);
  }

  if (!SUPABASE_URL || !SUPABASE_SERVICE_KEY) {
    console.error('‚ùå SUPABASE_URL –∏–ª–∏ SUPABASE_SERVICE_KEY –Ω–µ –∑–∞–¥–∞–Ω—ã!');
    process.exit(1);
  }

  for (const doc of DOCUMENTS) {
    try {
      console.log(`üìÑ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é: ${doc.title}`);

      // –ü–æ–ª—É—á–∞–µ–º embedding –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
      const embedding = await getEmbedding(doc.content);
      console.log(`   ‚úÖ Embedding –ø–æ–ª—É—á–µ–Ω (${embedding.length} –∏–∑–º–µ—Ä–µ–Ω–∏–π)`);

      // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤ Supabase
      const { error } = await supabase
        .from('documents')
        .upsert({
          title: doc.title,
          content: doc.content,
          source: doc.source,
          category: doc.category,
          embedding: embedding,
        }, {
          onConflict: 'title'
        });

      if (error) throw error;
      console.log(`   ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –≤ Supabase\n`);

      // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ —á—Ç–æ–±—ã –Ω–µ –ø—Ä–µ–≤—ã—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã API
      await new Promise(resolve => setTimeout(resolve, 500));

    } catch (error) {
      console.error(`   ‚ùå –û—à–∏–±–∫–∞: ${error.message}\n`);
    }
  }

  console.log('‚ú® –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!');
}

// –ó–∞–ø—É—Å–∫
uploadDocuments();
